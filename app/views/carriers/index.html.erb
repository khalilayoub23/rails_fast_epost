<% content_for :page_title, "Carriers" %>

<div class="space-y-6">
	<div class="flex items-center justify-between">
		<nav class="flex text-sm text-slate-300" aria-label="Breadcrumb">
			<ol class="inline-flex items-center space-x-1 md:space-x-3">
				<li class="inline-flex items-center">
					<%= link_to root_path, class: "text-slate-300 hover:text-white" do %>
						<span class="material-icons text-sm mr-1">home</span>
						Home
					<% end %>
				</li>
				<li>
					<div class="flex items-center">
						<span class="material-icons text-sm text-slate-500 mx-1">chevron_right</span>
						<span class="text-white font-medium">Carriers</span>
					</div>
				</li>
			</ol>
		</nav>
		<%= link_to "New Carrier", new_carrier_path, class: "inline-flex items-center rounded-xl bg-yellow-400 px-4 py-2 text-sm font-semibold text-black shadow-lg shadow-yellow-500/20 hover:bg-yellow-300" %>
	</div>

	<div class="rounded-2xl border border-white/10 bg-white/5 px-5 pt-6 pb-2.5 shadow-xl shadow-black/30 backdrop-blur">
		<div class="mb-6 flex items-center justify-between">
			<h2 class="text-xl font-semibold text-white">All Carriers</h2>
		</div>
		<div class="max-w-full overflow-x-auto">
			<table class="w-full table-auto">
				<thead>
					<tr class="bg-white/5 text-left">
						<th class="min-w-[140px] px-4 py-4 font-semibold text-slate-200">Name</th>
						<th class="min-w-[140px] px-4 py-4 font-semibold text-slate-200">Type</th>
						<th class="min-w-[200px] px-4 py-4 font-semibold text-slate-200">Email</th>
						<th class="min-w-[200px] px-4 py-4 font-semibold text-slate-200">Address</th>
						<th class="min-w-[120px] px-4 py-4 font-semibold text-slate-200">Overall Score</th>
						<th class="px-4 py-4 text-right font-semibold text-slate-200">Actions</th>
					</tr>
				</thead>
				<tbody>
					<% if @carriers.any? %>
						<% @carriers.each do |carrier| %>
							<tr class="border-b border-white/10 hover:bg-white/5">
								<td class="px-4 py-4">
									<%= link_to carrier_path(carrier), class: "text-sm font-semibold text-yellow-400 hover:underline" do %>
										<%= carrier.name %>
									<% end %>
								</td>
								<td class="px-4 py-4 text-sm text-slate-300"><%= carrier.carrier_type %></td>
								<td class="px-4 py-4 text-sm text-slate-200"><%= carrier.email %></td>
								<td class="px-4 py-4 text-sm text-slate-300"><%= carrier.address %></td>
								<td class="px-4 py-4 text-sm text-slate-200">
									<%= display_rating(carrier.average_overall_rating&.to_f) %>
								</td>
								<td class="px-4 py-4 text-right">
									<div class="inline-flex gap-2">
										<%= link_to "View", carrier_path(carrier), class: "inline-flex items-center rounded-xl border border-white/10 bg-white/5 px-3 py-1.5 text-sm font-semibold text-white hover:bg-white/10" %>
										<%= link_to "Edit", edit_carrier_path(carrier), class: "inline-flex items-center rounded-xl border border-white/10 bg-white/5 px-3 py-1.5 text-sm font-semibold text-white hover:bg-white/10" %>
									</div>
								</td>
							</tr>
						<% end %>
					<% else %>
						<tr>
							<td colspan="6" class="px-4 py-6 text-center text-sm text-slate-300">
								No carriers have been added yet.
							</td>
						</tr>
					<% end %>
				</tbody>
			</table>
		</div>
	</div>
</div>
