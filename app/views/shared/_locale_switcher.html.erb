<!-- Locale Switcher Component -->
<div class="relative inline-block" data-controller="dropdown">
  <!-- Trigger Button -->
  <button type="button" 
          class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-whiter dark:hover:bg-boxdark-2 transition-colors"
          data-action="click->dropdown#toggle"
          aria-haspopup="true"
          aria-expanded="false">
    <!-- Current Language Icon -->
    <span class="material-icons text-xl text-body">language</span>
    
    <!-- Current Language Code -->
    <span class="text-sm font-medium text-dark dark:text-white uppercase">
      <%= I18n.locale %>
    </span>
    
    <!-- Dropdown Arrow -->
    <span class="material-icons text-lg text-body">expand_more</span>
  </button>

  <!-- Dropdown Menu -->
  <div data-dropdown-target="menu" 
       class="hidden absolute <%= rtl? ? 'left-0' : 'right-0' %> mt-2 w-48 bg-white dark:bg-boxdark rounded-lg shadow-lg border border-stroke dark:border-strokedark z-9999">
    <div class="py-2">
      <!-- English -->
      <%= link_to url_for(locale: :en), 
          class: "flex items-center gap-3 px-4 py-2.5 hover:bg-whiter dark:hover:bg-boxdark-2 transition-colors #{I18n.locale == :en ? 'bg-whiter dark:bg-boxdark-2' : ''}" do %>
        <span class="text-2xl">ğŸ‡¬ğŸ‡§</span>
        <div class="flex-1">
          <div class="text-sm font-medium text-dark dark:text-white">English</div>
          <div class="text-xs text-bodydark1">LTR</div>
        </div>
        <% if I18n.locale == :en %>
          <span class="material-icons text-primary text-lg">check</span>
        <% end %>
      <% end %>

      <!-- Arabic -->
      <%= link_to url_for(locale: :ar), 
          class: "flex items-center gap-3 px-4 py-2.5 hover:bg-whiter dark:hover:bg-boxdark-2 transition-colors #{I18n.locale == :ar ? 'bg-whiter dark:bg-boxdark-2' : ''}" do %>
        <span class="text-2xl">ğŸ‡¸ğŸ‡¦</span>
        <div class="flex-1">
          <div class="text-sm font-medium text-dark dark:text-white">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
          <div class="text-xs text-bodydark1">RTL</div>
        </div>
        <% if I18n.locale == :ar %>
          <span class="material-icons text-primary text-lg">check</span>
        <% end %>
      <% end %>

      <!-- Russian -->
      <%= link_to url_for(locale: :ru), 
          class: "flex items-center gap-3 px-4 py-2.5 hover:bg-whiter dark:hover:bg-boxdark-2 transition-colors #{I18n.locale == :ru ? 'bg-whiter dark:bg-boxdark-2' : ''}" do %>
        <span class="text-2xl">ï¿½ï¿½</span>
        <div class="flex-1">
          <div class="text-sm font-medium text-dark dark:text-white">Ğ ÑƒÑÑĞºĞ¸Ğ¹</div>
          <div class="text-xs text-bodydark1">LTR</div>
        </div>
        <% if I18n.locale == :ru %>
          <span class="material-icons text-primary text-lg">check</span>
        <% end %>
      <% end %>

      <!-- Hebrew -->
      <%= link_to url_for(locale: :he), 
          class: "flex items-center gap-3 px-4 py-2.5 hover:bg-whiter dark:hover:bg-boxdark-2 transition-colors #{I18n.locale == :he ? 'bg-whiter dark:bg-boxdark-2' : ''}" do %>
        <span class="text-2xl">ğŸ‡®ğŸ‡±</span>
        <div class="flex-1">
          <div class="text-sm font-medium text-dark dark:text-white">×¢×‘×¨×™×ª</div>
          <div class="text-xs text-bodydark1">RTL</div>
        </div>
        <% if I18n.locale == :he %>
          <span class="material-icons text-primary text-lg">check</span>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
