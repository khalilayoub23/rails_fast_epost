<!-- Locale Switcher Component -->
<div class="relative inline-block" data-controller="dropdown" data-dropdown-hover-value="true"
  data-action="mouseenter->dropdown#show mouseleave->dropdown#hide">
  <!-- Trigger Button: Circle 1 - Just 2 letters -->
  <button type="button"
          class="flex items-center justify-center rounded-full bg-black/40 border-yellow-400 hover:bg-yellow-400/10 transition-all duration-300"
          data-action="click->dropdown#toggle"
    style="width: 48px; height: 48px; border-width: 2px; flex-shrink: 0;">
    <span class="font-bold text-yellow-400" style="font-size: 14px;"><%= I18n.locale.to_s.upcase %></span>
  </button>

  <!-- Dropdown Menu -->
    <div data-dropdown-target="menu"
      data-action="mouseenter->dropdown#show mouseleave->dropdown#hide"
      class="hidden absolute <%= rtl? ? 'left-0' : 'right-0' %> mt-2 w-40 bg-black/95 backdrop-blur-md rounded-lg shadow-xl border border-gray-700 z-50">
    <div class="py-1">
      <!-- English -->
      <% css_classes = "flex items-center gap-3 px-4 py-2 hover:bg-yellow-400/10 transition-colors #{I18n.locale == :en ? 'bg-yellow-400/10' : ''}" %>
      <%= link_to switch_locale_path(:en), class: css_classes do %>
        <span class="text-xs font-bold text-yellow-400">EN</span>
        <div class="flex-1">
          <div class="text-xs font-medium text-white">English</div>
        </div>
        <% if I18n.locale == :en %>
          <span class="text-yellow-400 text-sm">✓</span>
        <% end %>
      <% end %>

      <!-- Arabic -->
      <% css_classes = "flex items-center gap-3 px-4 py-2 hover:bg-yellow-400/10 transition-colors #{I18n.locale == :ar ? 'bg-yellow-400/10' : ''}" %>
      <%= link_to switch_locale_path(:ar), class: css_classes do %>
        <span class="text-xs font-bold text-yellow-400">AR</span>
        <div class="flex-1">
          <div class="text-xs font-medium text-white">العربية</div>
        </div>
        <% if I18n.locale == :ar %>
          <span class="text-yellow-400 text-sm">✓</span>
        <% end %>
      <% end %>

      <!-- Russian -->
      <% css_classes = "flex items-center gap-3 px-4 py-2 hover:bg-yellow-400/10 transition-colors #{I18n.locale == :ru ? 'bg-yellow-400/10' : ''}" %>
      <%= link_to switch_locale_path(:ru), class: css_classes do %>
        <span class="text-xs font-bold text-yellow-400">RU</span>
        <div class="flex-1">
          <div class="text-xs font-medium text-white">Русский</div>
        </div>
        <% if I18n.locale == :ru %>
          <span class="text-yellow-400 text-sm">✓</span>
        <% end %>
      <% end %>

      <!-- Hebrew -->
      <% css_classes = "flex items-center gap-3 px-4 py-2 hover:bg-yellow-400/10 transition-colors #{I18n.locale == :he ? 'bg-yellow-400/10' : ''}" %>
      <%= link_to switch_locale_path(:he), class: css_classes do %>
        <span class="text-xs font-bold text-yellow-400">HE</span>
        <div class="flex-1">
          <div class="text-xs font-medium text-white">עברית</div>
        </div>
        <% if I18n.locale == :he %>
          <span class="text-yellow-400 text-sm">✓</span>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
