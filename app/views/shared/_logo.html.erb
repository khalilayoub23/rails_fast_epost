<%# Logo Component - Reusable across the app %>
<%# Usage: <%= render 'shared/logo', size: 'lg', text: true %>

<%
  size = local_assigns[:size] || 'md'  # sm, md, lg, xl
  show_text = local_assigns.fetch(:text, true)
  link = local_assigns.fetch(:link, true)
  class_names = local_assigns[:class] || ''
  
  logo_classes = ['logo']
  logo_classes << "logo-#{size}" if size != 'md'
  logo_classes << 'logo-icon-only' unless show_text
  logo_classes << class_names
%>

<% if link %>
  <%= link_to root_path, class: logo_classes.join(' '), data: { turbo: false } do %>
    <div class="logo-icon logo-auto-invert">
      <!-- Inline SVG wrapper so background can use CSS variables from the page -->
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 120" width="400" height="120" role="img" aria-label="Fast Epost logo" class="logo-svg">
        <!-- Use design-system variable so the rect matches site background when inlined -->
        <rect width="100%" height="100%" fill="var(--bg-elevated, #0b1220)" rx="12"/>
        <image href="<%= asset_path('fast_epost_transparent.png') %>" x="24" y="10" width="352" height="100" preserveAspectRatio="xMidYMid meet"/>
      </svg>
    </div>
    
    <% if show_text %>
      <div class="logo-text">
        <div class="logo-title">Fast Epost</div>
        <div class="logo-subtitle">Law&E-com Delivery</div>
      </div>
    <% end %>
  <% end %>
<% else %>
  <div class="<%= logo_classes.join(' ') %>">
    <div class="logo-icon">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 120" width="400" height="120" role="img" aria-label="Fast Epost logo" class="logo-svg">
        <rect width="100%" height="100%" fill="var(--bg-elevated, #0b1220)" rx="12"/>
        <image href="<%= asset_path('fast_epost_transparent.png') %>" x="24" y="10" width="352" height="100" preserveAspectRatio="xMidYMid meet"/>
      </svg>
    </div>
    
    <% if show_text %>
      <div class="logo-text">
        <div class="logo-title">Fast Epost</div>
        <div class="logo-subtitle">Law&E-com Delivery</div>
      </div>
    <% end %>
  </div>
<% end %>
