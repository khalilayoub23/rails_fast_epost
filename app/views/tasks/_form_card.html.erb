<% title = local_assigns.fetch(:title) %>
<% description = local_assigns.fetch(:description, nil) %>
<% back_path = local_assigns.fetch(:back_path, nil) %>
<% back_label = local_assigns.fetch(:back_label, t("common.back_to_list", default: "Back to tasks")) %>
<% header_right = local_assigns.fetch(:header_right, nil) %>
<% header_padding = local_assigns.fetch(:header_padding, "px-8 py-7") %>
<% body_padding = local_assigns.fetch(:body_padding, "px-8 py-9") %>
<% content = block_given? ? capture { yield } : "" %>

<% if back_path.present? || header_right.present? %>
  <div class="mb-6 flex flex-wrap items-center justify-between gap-3">
    <% if back_path.present? %>
      <%= link_to back_path, class: "inline-flex items-center text-base font-semibold text-slate-300 hover:text-yellow-400" do %>
        <span class="material-icons mr-2 text-lg">arrow_back</span>
        <%= back_label %>
      <% end %>
    <% end %>
    <% if header_right.present? %>
      <p class="text-xs uppercase tracking-wide text-slate-500"><%= header_right %></p>
    <% end %>
  </div>
<% end %>

<div class="w-full rounded-2xl border border-white/10 bg-white/5 shadow-2xl shadow-black/30 backdrop-blur">
  <div class="border-b border-white/10 <%= header_padding %>">
    <h1 class="text-4xl font-bold tracking-tight text-white"><%= title %></h1>
    <% if description.present? %>
      <% safe_description = description.is_a?(ActiveSupport::SafeBuffer) || (description.respond_to?(:html_safe?) && description.html_safe?) %>
      <p class="mt-2 text-lg text-slate-300"><%= safe_description ? description : description.to_s %></p>
    <% end %>
  </div>
  <div class="<%= body_padding %>">
    <%= content %>
  </div>
</div>
