<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Carrier Authorization</title>
  <style>
    body { font-family: 'Helvetica', 'Arial', sans-serif; color: #111; line-height: 1.5; margin: 0; padding: 24px; }
    h1 { font-size: 22px; margin-bottom: 8px; }
    h2 { font-size: 16px; margin-top: 20px; margin-bottom: 8px; }
    .card { border: 1px solid #ddd; border-radius: 8px; padding: 16px; margin-bottom: 12px; }
    .row { display: flex; gap: 12px; }
    .col { flex: 1; }
    .qr { text-align: right; }
    .small { font-size: 12px; color: #555; }
  </style>
</head>
<body>
  <div class="row" style="align-items: center; justify-content: space-between;">
    <div>
      <h1>Authorization to Act on Behalf of Client</h1>
      <p class="small">Case: <strong><%= delivery.case_number %></strong></p>
    </div>
    <div class="qr">
      <% if qr_code_data_uri.present? %>
        <img src="<%= qr_code_data_uri %>" alt="QR Verification" style="width:120px;height:120px;" />
        <div class="small">Scan to verify authorization</div>
      <% end %>
    </div>
  </div>

  <div class="card">
    <h2>Parties</h2>
    <p><strong>Lawyer:</strong> <%= lawyer.full_name %> (ID: <%= lawyer.id %>)</p>
    <p><strong>Carrier:</strong> <%= carrier.full_name %> (ID: <%= carrier.id %>)</p>
    <p><strong>Recipient:</strong> <%= recipient.full_name %> (ID: <%= recipient.id %>)</p>
  </div>

  <div class="card">
    <h2>Scope</h2>
    <p>The carrier is authorized to handle delivery tasks for the above case, present documents at official offices, and obtain required signatures as directed by the lawyer.</p>
  </div>

  <div class="card">
    <h2>Signatures</h2>
    <p><strong>Lawyer Signature:</strong> On file</p>
    <p><strong>Carrier Signature:</strong> On file</p>
    <p class="small">Issued at <%= Time.current.strftime('%Y-%m-%d %H:%M %Z') %></p>
  </div>
</body>
</html>